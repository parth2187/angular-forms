<div class="container-fluid d-flex row justify-content-center">
  <h2 class="text-center mt-5">Survey Form</h2>

  <div class="card w-50 shadow-sm p-3 mb-5 bg-body rounded">
    <div class="card-body">
      <form #surveyForm="ngForm" (ngSubmit)="submitForm(surveyForm)">
        <div class="mb-3">
          <label for="name">Name:</label>
          <input
            type="text"
            id="name"
            name="name"
            class="form-control"
            required
            [(ngModel)]="survey.name"
            #name="ngModel"
            placeholder="Your name"
            minlength="3"
          />
         <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert alert-danger mt-2">
      <div *ngIf="name?.errors?.['required']">
        Name is required.
      </div>
      <div *ngIf="name?.errors?.['minlength']">
        Name must be at least 3 characters long.
      </div>
    </div>
        </div>

        <div class="mb-3">
          <label for="email">Email:</label>
          <input
            type="email"
            id="email"
            name="email"
            required
            email
            class="form-control"
            required
            [(ngModel)]="survey.email"
            #email="ngModel"
            placeholder="Your email address"
          />
          <div *ngIf="email?.invalid && (email.dirty || email.touched)" class="alert alert-danger mt-3">
            <div *ngIf="email?.errors?.['required']">
              Email is required.
            </div>
            <div *ngIf="email?.errors?.['email']">
              Email must be a valid email address.
            </div>
          </div>
          
        </div>

        <div class="mb-3">
          <label for="age">Age:</label>
          <input
            type="number"
            id="age"
            name="age"
            class="form-control"
            [(ngModel)]="survey.age"
            #age="ngModel"
            placeholder="Your age"
            max="100"
            min="18"
          />
          <div *ngIf="age?.invalid && (age?.dirty || age?.untouched) "class="alert alert-danger">
            <div *ngIf="age?.errors?.['max']">
              Age must be less than 100.
            </div>
            <div *ngIf="age?.errors?.['min']">
              Age must be greater than 18.
            </div>  
          </div>
        </div>

        <div class="mb-3">
          <label for="gender">Gender:</label>
          <div class="form-check form-check-inline">
            <input type="radio"
                   id="male"
                   name="gender"
                   class="form-check-input"
                   value="male"
                   required
                   [(ngModel)]="survey.gender"
                   #gender="ngModel">
            <label class="form-check-label" for="male">Male</label>
          </div>
          <div class="form-check form-check-inline">
            <input type="radio"
                   id="female"
                   name="gender"
                   class="form-check-input"
                   value="female"
                   required
                   [(ngModel)]="survey.gender"
                   #gender="ngModel">
            <label class="form-check-label" for="female">Female</label>
          </div>
          <div class="form-check form-check-inline">
            <input type="radio"
                   id="other"
                   name="gender"
                   class="form-check-input"
                   value="other"
                   required
                   [(ngModel)]="survey.gender"
                   #gender="ngModel">
            <label class="form-check-label" for="other">Other</label>
          </div>
        </div>

        <div class="mb-3">
          <label for="feedback">Feedback:</label>
          <textarea
            id="feedback"
            name="feedback"
            class="form-control"
            required
            [(ngModel)]="survey.feedback"
            #feedback="ngModel"
            placeholder="Your feedback"
          ></textarea>
          <div *ngIf="feedback?.invalid && (feedback.dirty || feedback.touched)" class="alert alert-danger mt-2">
            <div *ngIf="feedback?.errors?.['required']">
              Feedback is required.
            </div>
          </div>
        </div>

        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="surveyForm.invalid">
          Submit
        </button>
      </form>
    </div>
  </div>

  <hr />
  <div class="container text-center">
    <ng-container *ngIf="isSuccess">
      <div class="alert alert-success" role="alert">
        <h4 class="alert-heading">Thank you!</h4>
        <p>Your feedback has been submitted successfully.</p>
        <hr />
        <p class="mb-0">We will get back to you soon.</p>
      </div>
    </ng-container>
  </div>
</div>
