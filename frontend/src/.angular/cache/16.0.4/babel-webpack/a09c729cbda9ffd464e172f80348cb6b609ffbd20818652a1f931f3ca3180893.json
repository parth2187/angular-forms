{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet AuthPageComponent = class AuthPageComponent {\n  constructor(authService, http, router) {\n    this.authService = authService;\n    this.http = http;\n    this.router = router;\n    this.user = {\n      name: '',\n      email: '',\n      password: ''\n    };\n    this.isLoginFailed = false;\n    this.isSuccess = false;\n  }\n  onSubmit(formData) {\n    this.http.get('http://localhost:3000/signup').subscribe(response => {\n      const user = response.find(user => {\n        return user.email === this.user.email && user.password === this.user.password;\n      });\n      if (user) {\n        this.authService.setLoggedIn(true);\n        this.router.navigate(['/form']);\n        this.isSuccess = true;\n      } else {\n        this.authService.setLoggedIn(false);\n        this.router.navigate(['/auth']);\n        console.log('Invalid email or password');\n        this.isLoginFailed = true;\n      }\n    }, error => {\n      console.error(error);\n    });\n    if (this.authService.isLoggedIn) {\n      this.router.navigate(['/form']);\n    }\n  }\n};\nAuthPageComponent = __decorate([Component({\n  selector: 'app-auth-page',\n  templateUrl: './auth-page.component.html',\n  styleUrls: ['./auth-page.component.css']\n})], AuthPageComponent);\nexport { AuthPageComponent };","map":{"version":3,"names":["Component","AuthPageComponent","constructor","authService","http","router","user","name","email","password","isLoginFailed","isSuccess","onSubmit","formData","get","subscribe","response","find","setLoggedIn","navigate","console","log","error","isLoggedIn","__decorate","selector","templateUrl","styleUrls"],"sources":["/home/parthkawatra/Desktop/web_projects/angular/angular-forms/src/app/auth-page/auth-page.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { UserData } from '../user-data';\nimport { AuthService } from '../auth/auth.service';\nimport { NgForm } from '@angular/forms';\nimport { HttpClient } from '@angular/common/http';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-auth-page',\n  templateUrl: './auth-page.component.html',\n  styleUrls: ['./auth-page.component.css']\n})\nexport class AuthPageComponent {\n  user: UserData = {\n    name: '',\n    email: '',\n    password: ''\n  };  \n\n  isLoginFailed = false;\n  isSuccess = false;\n  \n  constructor(private authService:AuthService, private http:HttpClient, private router:Router) { }\n\n  onSubmit(formData: NgForm): void {\n    this.http.get<any>('http://localhost:3000/signup').subscribe( \n      response => {\n        const user = response.find((user: { email: string; password: string; }) => {  \n          return user.email === this.user.email && user.password === this.user.password;\n        });\n        if (user) {\n          this.authService.setLoggedIn(true);\n          this.router.navigate(['/form']);\n          this.isSuccess = true;\n        } else {\n          this.authService.setLoggedIn(false);\n          this.router.navigate(['/auth']);\n          console.log('Invalid email or password');\n          this.isLoginFailed = true;\n          \n        }\n        },\n      error => {\n        console.error(error);\n      }\n    );\n      if(this.authService.isLoggedIn){\n        this.router.navigate(['/form']);\n      }\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAYzC,IAAaC,iBAAiB,GAA9B,MAAaA,iBAAiB;EAU5BC,YAAoBC,WAAuB,EAAUC,IAAe,EAAUC,MAAa;IAAvE,KAAAF,WAAW,GAAXA,WAAW;IAAsB,KAAAC,IAAI,GAAJA,IAAI;IAAqB,KAAAC,MAAM,GAANA,MAAM;IATpF,KAAAC,IAAI,GAAa;MACfC,IAAI,EAAE,EAAE;MACRC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE;KACX;IAED,KAAAC,aAAa,GAAG,KAAK;IACrB,KAAAC,SAAS,GAAG,KAAK;EAE8E;EAE/FC,QAAQA,CAACC,QAAgB;IACvB,IAAI,CAACT,IAAI,CAACU,GAAG,CAAM,8BAA8B,CAAC,CAACC,SAAS,CAC1DC,QAAQ,IAAG;MACT,MAAMV,IAAI,GAAGU,QAAQ,CAACC,IAAI,CAAEX,IAA0C,IAAI;QACxE,OAAOA,IAAI,CAACE,KAAK,KAAK,IAAI,CAACF,IAAI,CAACE,KAAK,IAAIF,IAAI,CAACG,QAAQ,KAAK,IAAI,CAACH,IAAI,CAACG,QAAQ;MAC/E,CAAC,CAAC;MACF,IAAIH,IAAI,EAAE;QACR,IAAI,CAACH,WAAW,CAACe,WAAW,CAAC,IAAI,CAAC;QAClC,IAAI,CAACb,MAAM,CAACc,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;QAC/B,IAAI,CAACR,SAAS,GAAG,IAAI;OACtB,MAAM;QACL,IAAI,CAACR,WAAW,CAACe,WAAW,CAAC,KAAK,CAAC;QACnC,IAAI,CAACb,MAAM,CAACc,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;QAC/BC,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;QACxC,IAAI,CAACX,aAAa,GAAG,IAAI;;IAG3B,CAAC,EACHY,KAAK,IAAG;MACNF,OAAO,CAACE,KAAK,CAACA,KAAK,CAAC;IACtB,CAAC,CACF;IACC,IAAG,IAAI,CAACnB,WAAW,CAACoB,UAAU,EAAC;MAC7B,IAAI,CAAClB,MAAM,CAACc,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;;EAErC;CACD;AAtCYlB,iBAAiB,GAAAuB,UAAA,EAL7BxB,SAAS,CAAC;EACTyB,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACW1B,iBAAiB,CAsC7B;SAtCYA,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}